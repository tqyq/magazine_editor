<!DOCTYPE HTML>
<html>
<head>
<title>magazine editor</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="css/main.css">
<script type="text/javascript" src="js/jquery-1.10.2.js"></script>
<script type="text/javascript" src="js/jquery-ui-1.10.4.min.js"></script>
</head>
<body>
	<div class="br3 b1 p10 bg dib vat" style="width: 100px;">
		<div>组件栏</div>
		<div id="tt" class="m10 p10 bw draggable">文字</div>
		<div id="ti" class="m10 p10 bw draggable">图片</div>
		<div id="tv" class="m10 p10 bw draggable">视频</div>
	</div>
	<div class="br3 b1 p10 bg dib vat" style="width: 400px;">
		<div>编辑栏</div>
		<div id="ec" class="b1 bw " style="width: 100%; height: 300px;"></div>
	</div>
	<div class="br3 b1 p10 bg dib vat" style="width: 200px;">
		<div>属性栏</div>
		<div class="dib">宽度</div>
		<div class="dib">
			<input id="pw" type="text" >
		</div>
		<div class="dib">高度</div>
		<div class="dib">
			<input id="ph" type="text" >
		</div>
	</div>
</body>
<script>
	$(function() {
		$( ".draggable" ).draggable({ cursor: "move", opacity: 0.7, helper: "clone" });
		$("#ec").droppable({
			accept: ".draggable",
		    hoverClass: "ui-state-hover",
	      	drop: function(event, ui) {
	      		var c = ui.draggable.clone();
	      		c.removeAttr('class');
	      		c.removeAttr('id');
	      		//c.attr("contenteditable", "true");
	      		c.addClass('pr');
	      		c.sortable();
	      		c.on('click', function() {
	      			$('#pw').val(c.width());
	      			$('#ph').val(c.height());
	      		});
	      		
	      		$(this).append(c);
	      	}
	    });
	});
</script>
</html>
